import { getRepository, Repository } from 'typeorm';
import { ObjectVulnerability } from '../../entity/ObjectVulnerability';
import { ICreateObjectVulnerabilityDTO, IObjectVulnerabilityRepository } from '../IObjectVulnerabilityRepository';

class ObjectVulnerabilityRepository implements IObjectVulnerabilityRepository {
  private repository: Repository<ObjectVulnerability>;

  constructor() {
    this.repository = getRepository(ObjectVulnerability);
  }

  public async create(data: ICreateObjectVulnerabilityDTO): Promise<ObjectVulnerability> {
    const objectVulnerability = await this.repository.create(data);

    return this.repository.save(objectVulnerability);
  }

}

export { ObjectVulnerabilityRepository };
